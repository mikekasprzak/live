!function(){var e={}.hasOwnProperty;window.cN=function(){for(var t=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var r=typeof o;if("string"===r||"number"===r)t.push(o);else if(Array.isArray(o))t.push(cN.apply(null,o));else if("object"===r)for(var s in o)e.call(o,s)&&o[s]&&t.push(s)}}return t.join(" ")}}(),function(e){var t=new XMLHttpRequest;t.open("GET","out.min.svg",!0),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE&&200===t.status){t.onload=null;var e=document.createElement("x");e.innerHTML=t.responseText;var n=e.getElementsByTagName("svg")[0];n&&(n.setAttribute("aria-hidden","true"),n.style.position="absolute",n.style.width=0,n.style.height=0,n.style.overflow="hidden",document.body.insertBefore(n,document.body.firstChild))}},t.send()}(),window.parseHashBang=function(e){e=e||window.location.href;var t={};t.href=e,t.ref=e.slice(e.indexOf("#!")+2);var n=t.ref.split("?");t.pathname=n[0],"/"===t.pathname[0]?t.path=t.pathname.slice(1).split("/"):t.path=t.pathname.split("/");var o=n[1];if(o){t.query=o,o=o.split("&"),t.arg={};for(var r=0;r<o.length;r++){var s=o[r].split("=");s.length>1?t.arg[s[0]]=s[1]:t.arg[s[0]]=null}}return t};function VNode(){}var options={},stack=[],EMPTY_CHILDREN=[];function h(e,t){var n,o,r,s,i=arguments,l=EMPTY_CHILDREN;for(s=arguments.length;s-- >2;)stack.push(i[s]);for(t&&null!=t.children&&(stack.length||stack.push(t.children),delete t.children);stack.length;)if((o=stack.pop())&&void 0!==o.pop)for(s=o.length;s--;)stack.push(o[s]);else"boolean"==typeof o&&(o=null),(r="function"!=typeof e)&&(null==o?o="":"number"==typeof o?o=String(o):"string"!=typeof o&&(r=!1)),r&&n?l[l.length-1]+=o:l===EMPTY_CHILDREN?l=[o]:l.push(o),n=r;var a=new VNode;return a.nodeName=e,a.children=l,a.attributes=null==t?void 0:t,a.key=null==t?void 0:t.key,void 0!==options.vnode&&options.vnode(a),a}function extend(e,t){for(var n in t)e[n]=t[n];return e}var defer="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,NO_RENDER=0,SYNC_RENDER=1,FORCE_RENDER=2,ASYNC_RENDER=3,ATTR_KEY="__preactattr_",IS_NON_DIMENSIONAL=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,items=[];function enqueueRender(e){!e._dirty&&(e._dirty=!0)&&1==items.push(e)&&(options.debounceRendering||defer)(rerender)}function rerender(){var e,t=items;for(items=[];e=t.pop();)e._dirty&&renderComponent(e)}function isSameNodeType(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&isNamedNode(e,t.nodeName):n||e._componentConstructor===t.nodeName}function isNamedNode(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function getNodeProps(e){var t=extend({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function createNode(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function removeNode(e){var t=e.parentNode;t&&t.removeChild(e)}function setAccessor(e,t,n,o,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||r)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var s in n)s in o||(e.style[s]="");for(var i in o)e.style[i]="number"==typeof o[i]&&!1===IS_NON_DIMENSIONAL.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var l=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,eventProxy,l):e.removeEventListener(t,eventProxy,l),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e)setProperty(e,t,null==o?"":o),null!=o&&!1!==o||e.removeAttribute(t);else{var a=r&&t!==(t=t.replace(/^xlink\:?/,""));null==o||!1===o?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function setProperty(e,t,n){try{e[t]=n}catch(e){}}function eventProxy(e){return this._listeners[e.type](options.event&&options.event(e)||e)}var mounts=[],diffLevel=0,isSvgMode=!1,hydrating=!1;function flushMounts(){for(var e;e=mounts.pop();)options.afterMount&&options.afterMount(e),e.componentDidMount&&e.componentDidMount()}function diff(e,t,n,o,r,s){diffLevel++||(isSvgMode=null!=r&&void 0!==r.ownerSVGElement,hydrating=null!=e&&!(ATTR_KEY in e));var i=idiff(e,t,n,o,s);return r&&i.parentNode!==r&&r.appendChild(i),--diffLevel||(hydrating=!1,s||flushMounts()),i}function idiff(e,t,n,o,r){var s=e,i=isSvgMode;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(s=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(s,e),recollectNodeTree(e,!0))),s[ATTR_KEY]=!0,s;var l=t.nodeName;if("function"==typeof l)return buildComponentFromVNode(e,t,n,o);if(isSvgMode="svg"===l||"foreignObject"!==l&&isSvgMode,l=String(l),(!e||!isNamedNode(e,l))&&(s=createNode(l,isSvgMode),e)){for(;e.firstChild;)s.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(s,e),recollectNodeTree(e,!0)}var a=s.firstChild,c=s[ATTR_KEY],p=t.children;if(null==c){c=s[ATTR_KEY]={};for(var d=s.attributes,u=d.length;u--;)c[d[u].name]=d[u].value}return!hydrating&&p&&1===p.length&&"string"==typeof p[0]&&null!=a&&void 0!==a.splitText&&null==a.nextSibling?a.nodeValue!=p[0]&&(a.nodeValue=p[0]):(p&&p.length||null!=a)&&innerDiffNode(s,p,n,o,hydrating||null!=c.dangerouslySetInnerHTML),diffAttributes(s,t.attributes,c),isSvgMode=i,s}function innerDiffNode(e,t,n,o,r){var s,i,l,a,c,p=e.childNodes,d=[],u={},f=0,m=0,h=p.length,v=0,_=t?t.length:0;if(0!==h)for(var N=0;N<h;N++){var C=p[N],y=C[ATTR_KEY],g=_&&y?C._component?C._component.__key:y.key:null;null!=g?(f++,u[g]=C):(y||(void 0!==C.splitText?!r||C.nodeValue.trim():r))&&(d[v++]=C)}if(0!==_)for(var b=0;b<_;b++){c=null;var E=(a=t[b]).key;if(null!=E)f&&void 0!==u[E]&&(c=u[E],u[E]=void 0,f--);else if(!c&&m<v)for(s=m;s<v;s++)if(void 0!==d[s]&&isSameNodeType(i=d[s],a,r)){c=i,d[s]=void 0,s===v-1&&v--,s===m&&m++;break}c=idiff(c,a,n,o),l=p[b],c&&c!==e&&c!==l&&(null==l?e.appendChild(c):c===l.nextSibling?removeNode(l):e.insertBefore(c,l))}if(f)for(var T in u)void 0!==u[T]&&recollectNodeTree(u[T],!1);for(;m<=v;)void 0!==(c=d[v--])&&recollectNodeTree(c,!1)}function recollectNodeTree(e,t){var n=e._component;n?unmountComponent(n):(null!=e[ATTR_KEY]&&e[ATTR_KEY].ref&&e[ATTR_KEY].ref(null),!1!==t&&null!=e[ATTR_KEY]||removeNode(e),removeChildren(e))}function removeChildren(e){for(e=e.lastChild;e;){var t=e.previousSibling;recollectNodeTree(e,!0),e=t}}function diffAttributes(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||setAccessor(e,o,n[o],n[o]=void 0,isSvgMode);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||setAccessor(e,o,n[o],n[o]=t[o],isSvgMode)}var components={};function collectComponent(e){var t=e.constructor.name;(components[t]||(components[t]=[])).push(e)}function createComponent(e,t,n){var o,r=components[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),Component.call(o,t,n)):((o=new Component(t,n)).constructor=e,o.render=doRender),r)for(var s=r.length;s--;)if(r[s].constructor===e){o.nextBase=r[s].nextBase,r.splice(s,1);break}return o}function doRender(e,t,n){return this.constructor(e,n)}function setComponentProps(e,t,n,o,r){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,n!==NO_RENDER&&(n!==SYNC_RENDER&&!1===options.syncComponentUpdates&&e.base?enqueueRender(e):renderComponent(e,SYNC_RENDER,r)),e.__ref&&e.__ref(e))}function renderComponent(e,t,n,o){if(!e._disable){var r,s,i,l=e.props,a=e.state,c=e.context,p=e.prevProps||l,d=e.prevState||a,u=e.prevContext||c,f=e.base,m=e.nextBase,h=f||m,v=e._component,_=!1;if(f&&(e.props=p,e.state=d,e.context=u,t!==FORCE_RENDER&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(l,a,c)?_=!0:e.componentWillUpdate&&e.componentWillUpdate(l,a,c),e.props=l,e.state=a,e.context=c),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!_){r=e.render(l,a,c),e.getChildContext&&(c=extend(extend({},c),e.getChildContext()));var N,C,y=r&&r.nodeName;if("function"==typeof y){var g=getNodeProps(r);(s=v)&&s.constructor===y&&g.key==s.__key?setComponentProps(s,g,SYNC_RENDER,c,!1):(N=s,e._component=s=createComponent(y,g,c),s.nextBase=s.nextBase||m,s._parentComponent=e,setComponentProps(s,g,NO_RENDER,c,!1),renderComponent(s,SYNC_RENDER,n,!0)),C=s.base}else i=h,(N=v)&&(i=e._component=null),(h||t===SYNC_RENDER)&&(i&&(i._component=null),C=diff(i,r,c,n||!f,h&&h.parentNode,!0));if(h&&C!==h&&s!==v){var b=h.parentNode;b&&C!==b&&(b.replaceChild(C,h),N||(h._component=null,recollectNodeTree(h,!1)))}if(N&&unmountComponent(N),e.base=C,C&&!o){for(var E=e,T=e;T=T._parentComponent;)(E=T).base=C;C._component=E,C._componentConstructor=E.constructor}}if(!f||n?mounts.unshift(e):_||(e.componentDidUpdate&&e.componentDidUpdate(p,d,u),options.afterUpdate&&options.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);diffLevel||o||flushMounts()}}function buildComponentFromVNode(e,t,n,o){for(var r=e&&e._component,s=r,i=e,l=r&&e._componentConstructor===t.nodeName,a=l,c=getNodeProps(t);r&&!a&&(r=r._parentComponent);)a=r.constructor===t.nodeName;return r&&a&&(!o||r._component)?(setComponentProps(r,c,ASYNC_RENDER,n,o),e=r.base):(s&&!l&&(unmountComponent(s),e=i=null),r=createComponent(t.nodeName,c,n),e&&!r.nextBase&&(r.nextBase=e,i=null),setComponentProps(r,c,SYNC_RENDER,n,o),e=r.base,i&&e!==i&&(i._component=null,recollectNodeTree(i,!1))),e}function unmountComponent(e){options.beforeUnmount&&options.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?unmountComponent(n):t&&(t[ATTR_KEY]&&t[ATTR_KEY].ref&&t[ATTR_KEY].ref(null),e.nextBase=t,removeNode(t),collectComponent(e),removeChildren(t)),e.__ref&&e.__ref(null)}function Component(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}extend(Component.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=extend({},n)),extend(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),enqueueRender(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),renderComponent(this,FORCE_RENDER)},render:function(){}});function render(e,t,n){return diff(n,e,{},!1,t,!1)}var UIIcon=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e){var t={class:"ui-icon"},n={};if(e.baseline&&(t.class+=" -baseline"),e.top&&(t.class+=" -top"),e.bottom&&(t.class+=" -bottom"),e["text-top"]&&(t.class+=" -text-top"),e["text-bottom"]&&(t.class+=" -text-bottom"),e.small&&(t.class+=" -small"),e.half&&(t.class+=" -half"),e.quarter&&(t.class+=" -quarter"),e.block&&(t.class+=" -block"),e.inline&&(t.class+=" -inline"),e.pad&&(t.class+=" -pad"),e.name)t.class+=" icon-"+e.name,n.xlinkHref="#icon-"+e.name;else if(e.src)t.class+=" icon-"+e.src,n.xlinkHref="#icon-"+e.src;else{var o=e.children;t.class+=" icon-"+o,n.xlinkHref="#icon-"+o}return t.class=cN(t.class,e.class),h("svg",t,h("use",n))},t}(Component),UIImage=function(e){function t(t){e.call(this,t),this.state={error:!1},this.onError=this.onError.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onError=function(){this.setState({error:!0})},t.prototype.render=function(e,t){(e=Object.assign({},e)).src&&!t.error||!e.failsrc||(e.src=e.failsrc),e.src&&0===e.src.indexOf("///")&&(e.src=STATIC_ENDPOINT+e.src.substr(2)),e.failsrc&&0===e.failsrc.indexOf("///")&&(e.failsrc=STATIC_ENDPOINT+e.failsrc.substr(2));var n=cN("ui-image",e.class,e.block?"-block":null);return h("img",Object.assign({},e,{class:n,onerror:this.onError}))},t}(Component),Main=function(e){function t(t){e.call(this,t),console.log("[constructor]"),this.state={url:parseHashBang()},window.addEventListener("hashchange",this.hashChange.bind(this))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hashChange=function(e){this.setState({url:parseHashBang()})},t.prototype.render=function(e,t){return console.log(t.url),h("div",null,h("div",null,"Hey"),h(UIIcon,null,"checkbox-checked"),h(UIImage,{src:"../common/ChickenC64.png"}))},t}(Component);render(h(Main,null),document.body);